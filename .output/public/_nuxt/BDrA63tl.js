import{an as j,h as q,r as z,q as r,o as c,c as y,a as t,b as n,w as a,e as D,u as e,l as g,f as x,W as k,n as w,d as H,K as L,a3 as E,L as F,ao as K,U as O}from"./CVTLfr-j.js";import{_ as R,g as W}from"./BVwIM7XN.js";import{u as Y}from"./BOMmvIL2.js";import{u as G}from"./CkJbm7BT.js";import"./CTksWtrq.js";import"./BaWsLenN.js";import"./BQlmpPki.js";import"./BIwr1OEQ.js";const J=()=>j("color-mode").value,P={class:"flex justify-between items-center mt-10"},Q={class:"flex items-center gap-2"},X={class:"flex items-center gap-2"},Z={class:"flex justify-between items-center p-2"},ee={class:"text-left"},te={class:"font-medium text-gray-900 dark:text-white"},oe={class:"truncate"},se={__name:"app-header",setup(N){const{avatarUrl:m}=Y(),l=q(),d=G(),i=z([{id:1,message:"You're approaching your monthly spending limit",time:"2h ago",read:!1},{id:2,message:"New feature: CSV import is now available!",time:"1d ago",read:!0}]),_=r(()=>i.value.filter(s=>!s.read).length),C=r(()=>_.value>0),U=r(()=>[...i.value.map(s=>({label:s.message,icon:s.read?"i-heroicons-check":"i-heroicons-bell",click:()=>S(s.id)}))]);function S(s){const o=i.value.find(p=>p.id===s);o&&(o.read=!0)}function B(){i.value=[]}const A=[[{slot:"account",disabled:!0}],[{label:"Settings",icon:"i-heroicons-cog-8-tooth",click:()=>w("/settings/profile")},{label:"Sign out",icon:"i-heroicons-arrow-left-on-rectangle",click:async()=>(await d.auth.signOut(),w("/login"))}]],u=J(),V=r(()=>u.preference==="light"?"black":"white"),I=r(()=>u.preference==="light"?"i-heroicons-moon":"i-heroicons-sun");function M(){u.preference=u.preference==="dark"?"light":"dark"}return(s,o)=>{const p=H,v=L,$=R,f=E,b=W,T=F;return c(),y("header",P,[t("div",Q,[n(p,{to:"/",class:"text-2xl font-bold"},{default:a(()=>o[0]||(o[0]=[D("My Finance Tracker")])),_:1}),n(v,{name:"i-heroicons-banknotes",class:"w-5 h-5"})]),t("div",null,[t("div",X,[n(b,{items:e(U),ui:{item:{disabled:"cursor-pointer select-text"},width:"w-80",container:"max-h-[400px] overflow-y-auto"}},{header:a(()=>[t("div",Z,[o[1]||(o[1]=t("h3",{class:"font-semibold"},"Notifications",-1)),e(i).length?(c(),g(f,{key:0,size:"xs",variant:"ghost",onClick:B,label:"Clear all"})):x("",!0)])]),default:a(()=>[n(f,{icon:"i-heroicons-bell",color:e(C)?"red":"gray",variant:"ghost"},{default:a(()=>[e(_)?(c(),g($,{key:0,value:e(_),position:"top-right",color:"red"},null,8,["value"])):x("",!0)]),_:1},8,["color"])]),_:1},8,["items"]),n(f,{icon:e(I),color:e(V),size:"sm",square:"",onClick:M,class:"dark:text-white"},null,8,["icon","color"]),e(l)?(c(),g(b,{key:0,items:A,ui:{item:{disabled:"cursor-text select-text"},width:"w-64"}},{account:a(({item:h})=>[t("div",ee,[o[2]||(o[2]=t("p",null,"Signed in as",-1)),t("p",te,k(e(l).user_metadata.full_name??e(l).email),1)])]),item:a(({item:h})=>[t("span",oe,k(h.label),1),n(v,{name:h.icon,class:"flex-shrink-0 h-4 w-4 text-gray-400 dark:text-gray-500 ms-auto"},null,8,["name"])]),default:a(()=>[n(T,{src:e(m)??"https://avatars.githubusercontent.com/u/739984?v=4",alt:"Avatar"},null,8,["src"])]),_:1})):x("",!0)])])])}}},ne={class:"container mx-auto max-w-4xl"},ae={class:"my-10"},pe={__name:"default",setup(N){return K({link:[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter&display=swap",crossorigin:""}]}),(m,l)=>{const d=se;return c(),y("div",ne,[n(d),t("main",ae,[O(m.$slots,"default")])])}}};export{pe as default};
