import{D as B,_ as P,y as k,K as j,M as u,N as O,q as i,O as V,r as W,k as T,P as m,o as I,c as z,a as U,V as L,U as p,J as y,b as N,f as $,A as D,al as E,G as J,B as r}from"./CVTLfr-j.js";const K=()=>{const e=B("form-events",void 0),n=B("form-path",void 0);return{emitFormBlur:()=>{e&&n&&e.emit({type:"blur",path:n})}}},H=k({components:{UIcon:j},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>u.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>u.ui.input.default.size,validator(e){return Object.keys(u.ui.input.size).includes(e)}},color:{type:String,default:()=>u.ui.input.default.color,validator(e){return[...u.ui.colors,...Object.keys(u.ui.input.color)].includes(e)}},variant:{type:String,default:()=>u.ui.input.default.variant,validator(e){return[...Object.keys(u.ui.input.variant),...Object.values(u.ui.input.color).flatMap(n=>Object.keys(n))].includes(e)}},ui:{type:Object,default:()=>u.ui.input}},emits:["update:modelValue","blur"],setup(e,{emit:n,slots:g}){const a=O(),l=i(()=>V({},e.ui,a.ui.input)),{emitFormBlur:f}=K(),s=W(null),d=()=>{var o;e.autofocus&&((o=s.value)==null||o.focus())},c=o=>{n("update:modelValue",o.target.value)},t=o=>{f(),n("blur",o)};T(()=>{setTimeout(()=>{d()},100)});const v=i(()=>{var h,S;const o=((S=(h=l.value.color)==null?void 0:h[e.color])==null?void 0:S[e.variant])||l.value.variant[e.variant];return m(l.value.base,l.value.rounded,l.value.placeholder,l.value.size[e.size],e.padded?l.value.padding[e.size]:"p-0",o==null?void 0:o.replaceAll("{color}",e.color),(b.value||g.leading)&&l.value.leading.padding[e.size],(C.value||g.trailing)&&l.value.trailing.padding[e.size])}),b=i(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),C=i(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),q=i(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),A=i(()=>e.loading&&!b.value?e.loadingIcon:e.trailingIcon||e.icon),w=i(()=>m(l.value.icon.leading.wrapper,l.value.icon.leading.pointer,l.value.icon.leading.padding[e.size])),F=i(()=>m(l.value.icon.base,a.ui.colors.includes(e.color)&&l.value.icon.color.replaceAll("{color}",e.color),l.value.icon.size[e.size],e.loading&&"animate-spin")),G=i(()=>m(l.value.icon.trailing.wrapper,l.value.icon.trailing.pointer,l.value.icon.trailing.padding[e.size])),M=i(()=>m(l.value.icon.base,a.ui.colors.includes(e.color)&&l.value.icon.color.replaceAll("{color}",e.color),l.value.icon.size[e.size],e.loading&&!b.value&&"animate-spin"));return{ui:l,input:s,isLeading:b,isTrailing:C,inputClass:v,leadingIconName:q,leadingIconClass:F,leadingWrapperIconClass:w,trailingIconName:A,trailingIconClass:M,trailingWrapperIconClass:G,onInput:c,onBlur:t}}}),Q=["id","name","value","type","required","placeholder","disabled"];function R(e,n,g,a,l,f){const s=j;return I(),z("div",{class:y(e.ui.wrapper)},[U("input",L({id:e.name,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.$attrs,{onInput:n[0]||(n[0]=(...d)=>e.onInput&&e.onInput(...d)),onBlur:n[1]||(n[1]=(...d)=>e.onBlur&&e.onBlur(...d))}),null,16,Q),p(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(I(),z("span",{key:0,class:y(e.leadingWrapperIconClass)},[p(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[N(s,{name:e.leadingIconName,class:y(e.leadingIconClass)},null,8,["name","class"])])],2)):$("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(I(),z("span",{key:1,class:y(e.trailingWrapperIconClass)},[p(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[N(s,{name:e.trailingIconName,class:y(e.trailingIconClass)},null,8,["name","class"])])],2)):$("",!0)],2)}const Y=P(H,[["render",R]]),Z=k({props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(u.ui.formGroup.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},ui:{type:Object,default:()=>u.ui.formGroup}},setup(e,{slots:n}){const g=O(),a=i(()=>V({},e.ui,g.ui.formGroup));D("form-path",e.name);const l=B("form-errors",null),f=i(()=>{var c,t;return e.error&&typeof e.error=="string"?e.error:(t=(c=l==null?void 0:l.value)==null?void 0:c.find(v=>v.path===e.name))==null?void 0:t.message}),s=i(()=>E(n)),d=i(()=>s.value.map(c=>{var v;const t={};return f.value?(t.oldColor=(v=c.props)==null?void 0:v.color,t.color="red"):t.oldColor&&(t.color=t.oldColor),e.name&&(t.name=e.name),e.size&&(t.size=e.size),J(c,t)}));return()=>r("div",{class:[a.value.wrapper]},[e.label&&r("div",{class:[a.value.label.wrapper,a.value.size[e.size]]},[r("label",{for:e.name,class:[a.value.label.base,e.required&&a.value.label.required]},e.label),e.hint&&r("span",{class:[a.value.hint]},e.hint)]),e.description&&r("p",{class:[a.value.description,a.value.size[e.size]]},e.description),r("div",{class:[!!e.label&&a.value.container]},[...d.value,f.value?r("p",{class:[a.value.error,a.value.size[e.size]]},f.value):e.help?r("p",{class:[a.value.help,a.value.size[e.size]]},e.help):null])])}});export{Z as _,Y as a,K as u};
